@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
:root {
  --font-fallback: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  --font-body: 'Open Sans', var(--font-fallback);
  --font-heading: 'Raleway', var(--font-fallback);
  /* Color palette */
  --color-background: #F9F6F1;
  --color-surface: #FFFDFC;
  --color-panel: #F3EBE3;
  --color-primary: #40342E;
  --color-secondary: #86786B;
  --color-accent: #DFBFAA;
  --color-accent-light: #FCE8DF;
  --color-highlight-yellow: #FFD384;
  --color-highlight-pink: #F4C7C3;
  --color-highlight-lavender: #D9D6F2;
  --color-highlight-green: #A3B18A;
  --color-success: #9CBCA5;
  --color-warning: #F4C684;
  --color-error: #D08C8C;
  --color-border: #E1D9D0;
  --color-text-primary: #40342E;
  --color-text-secondary: #6D645C;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
}

/* Font loading states */
body {
  font-family: var(--font-fallback);
  background-color: var(--color-background);
  color: var(--color-text-primary);
}

.fonts-loaded body {
  font-family: var(--font-body);
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-fallback);
  letter-spacing: 0.01em;
  color: var(--color-text-primary);
}

.fonts-loaded h1,
.fonts-loaded h2,
.fonts-loaded h3,
.fonts-loaded h4,
.fonts-loaded h5,
.fonts-loaded h6 {
  font-family: var(--font-heading);
}

/* Section styling */
section {
  padding: 4rem 0;
}

/* Heading styles */
h1 {
  @apply text-4xl md:text-5xl lg:text-6xl font-bold mb-6;
}

h2 {
  @apply text-3xl md:text-4xl font-bold mb-6;
}

h3 {
  @apply text-2xl md:text-3xl font-semibold mb-4;
}

/* Performance optimizations */
@media (prefers-reduced-motion: no-preference) {
  :root {
    scroll-behavior: smooth;
  }
}

/* Optimize paint performance */
.optimize-gpu {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Button styles */
.btn {
  @apply rounded-full shadow-sm transition-all duration-200 font-heading font-semibold px-6 py-3;
  transform: translateZ(0); /* Optimize GPU rendering */
}

.btn-primary {
  @apply bg-primary text-white hover:bg-accent transition-colors duration-200;
}

.btn-secondary {
  @apply bg-secondary text-white hover:bg-primary transition-colors duration-200;
}

.btn-accent {
  @apply bg-accent text-primary hover:bg-accent-light transition-colors duration-200;
}

.btn-outline {
  @apply bg-transparent border-2 border-primary text-primary hover:bg-primary hover:text-white transition-colors duration-200;
}

/* Card styles */
.card {
  @apply bg-surface rounded-2xl shadow-md overflow-hidden transition-shadow duration-300 hover:shadow-lg;
}

/* Form element styles */
input, textarea, select {
  @apply rounded-full border border-border p-3 bg-white shadow-sm transition-shadow duration-200 w-full;
}

input:focus, textarea:focus, select:focus {
  @apply outline-none ring-2 ring-primary/50 border-primary;
}

/* Selection styles */
::selection {
  background: var(--color-accent-light);
  color: var(--color-text-primary);
}

/* Content visibility optimization */
.content-visibility-auto {
  content-visibility: auto;
  contain: style layout paint;
}

/* Read more functionality */
.read-more-content {
  max-height: 4.5em;
  overflow: hidden;
  transition: max-height 0.3s ease-out;
}

.read-more-content.expanded {
  max-height: none;
}

/* Enhanced focus indicators */
:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  a[href^="http"]:after {
    content: " (" attr(href) ")";
  }
  
  /* Ensure good contrast in print */
  * {
    color: black !important;
    background: white !important;
  }
}

/* Gradients */
.gradient-primary {
  background: linear-gradient(135deg, var(--color-accent-light) 0%, var(--color-accent) 100%);
}

.gradient-overlay {
  background: linear-gradient(to bottom, rgba(64, 52, 46, 0.7), rgba(64, 52, 46, 0.5));
}

/* Panel and surface backgrounds */
.mint-section {
  background-color: var(--color-panel);
  border-radius: 2rem;
  padding: 3rem 2rem;
}

/* Beige card */
.beige-card {
  background-color: var(--color-surface);
  border-radius: 1.5rem;
  padding: 1.5rem;
}

/* Flower icons */
.flower-icon {
  display: inline-block;
  width: 1.5rem;
  height: 1.5rem;
  margin: 0 0.25rem;
}

.flower-icon.yellow {
  color: var(--color-highlight-yellow);
}

.flower-icon.purple {
  color: var(--color-highlight-lavender);
}

/* Text color utilities for highlight colors */
.text-highlight-yellow {
  color: var(--color-highlight-yellow);
}

.text-highlight-lavender {
  color: var(--color-highlight-lavender);
}

.text-highlight-pink {
  color: var(--color-highlight-pink);
}

.text-highlight-green {
  color: var(--color-highlight-green);
}