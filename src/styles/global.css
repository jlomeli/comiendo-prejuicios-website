@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
:root {
  --font-fallback: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  --font-body: 'Open Sans', var(--font-fallback);
  --font-heading: 'Raleway', var(--font-fallback);
  
  /* Prevent layout shift during font load */
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
}

/* Font loading states */
body {
  font-family: var(--font-fallback);
}

.fonts-loaded body {
  font-family: var(--font-body);
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-fallback);
  letter-spacing: 0.01em;
}

.fonts-loaded h1,
.fonts-loaded h2,
.fonts-loaded h3,
.fonts-loaded h4,
.fonts-loaded h5,
.fonts-loaded h6 {
  font-family: var(--font-heading);
}

/* Performance optimizations */
@media (prefers-reduced-motion: no-preference) {
  :root {
    scroll-behavior: smooth;
  }
}

/* Optimize paint performance */
.optimize-gpu {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Button styles */
.btn {
  @apply rounded-full shadow-sm transition-all duration-200 font-heading font-semibold;
  transform: translateZ(0); /* Optimize GPU rendering */
}

/* Form element styles */
input, textarea {
  @apply rounded-lg border border-neutral-dark/20 p-2 bg-white/80 shadow-sm transition-shadow duration-200;
}

input:focus, textarea:focus {
  @apply outline-none ring-2 ring-primary/50 border-primary;
}

/* Selection styles */
::selection {
  @apply bg-primary/10;
}

/* Content visibility optimization */
.content-visibility-auto {
  content-visibility: auto;
  contain: style layout paint;
}

/* Read more functionality */
.read-more-content {
  max-height: 4.5em;
  overflow: hidden;
  transition: max-height 0.3s ease-out;
}

.read-more-content.expanded {
  max-height: none;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  a[href^="http"]:after {
    content: " (" attr(href) ")";
  }
}